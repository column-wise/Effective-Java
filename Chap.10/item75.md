# item 74. 예외의 상세 메시지에 실패 관련 정보를 담으라

예외를 잡지못해 프로그램이 실패하면, 자바 시스템은 그 예외의 스택 트레이스 정보를 자동으로 출력한다.

이 정보가 실패 원인을 분석해야 하는 개발자 혹은 SRE(Site Reliablility Engineer)에게는 유일한 정보인 경우가 많으므로  
예외의 toString 메서드에 실패 원인에 대한 정보를 가능한 한 많이 담아 반환하는 일이 중요하다.

**실패 순간을 포착하려면 예외에 관여된 모든 매개변수와 필드의 값을 실패 메시지에 담아야 한다.**

예를 들어, `IndexOutOfBoundsException`의 상세 메세지는 범위의 최솟값과 최댓값, 그 범위를 벗어났다는 인덱스의 값을 모두 담아야 한다.

또한 예외에는 실패와 관련한 정보를 얻을 수 있는 접근자 메서드를 적절히 제공하는 것이 좋다.

하지만!

1. 너무 장황할 필요는 없고, 보안과 관련한 정보는 주의해서 다뤄야 한다. 상세 메세지에 비밀번호나 암호 키 같은 정보까지 담아서는 안된다.

2. 예외의 상세 메세지와 최종 사용자에게 보여줄 오류 메세지를 혼동해서는 안된다.

    최종 사용자에게는 친절한 안내 메세지, 예외 메세지에는 가독성보다는 담긴 내용이 중요하다.



item 72에서는 표준 예외를 사용하라고 했다.  
표준 예외는 final로 선언되어 있지는 않지만, 상속해서 사용해서는 안되기 때문에
적절한 접근자 등을 제공하라는 말은 커스텀 예외를 정의할 때 적용되는 조언으로 이해한다.